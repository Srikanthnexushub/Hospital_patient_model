# ── PostgreSQL performance tuning ─────────────────────────────────────────
# Tuned for a small-to-medium hospital deployment (4 GB RAM, SSD storage).
# Adjust shared_buffers and effective_cache_size for your actual RAM.

# Connections
max_connections = 100

# Memory
shared_buffers             = 256MB
effective_cache_size       = 768MB
work_mem                   = 4MB
maintenance_work_mem       = 64MB

# WAL
wal_buffers                    = 16MB
checkpoint_completion_target   = 0.9

# Planner
random_page_cost       = 1.1          # SSD — lower than spinning disk default (4.0)
effective_io_concurrency = 200        # SSD concurrent I/O

# Autovacuum
autovacuum = on

# Logging (slow query log)
log_min_duration_statement = 1000    # ms — log queries over 1 second

# Timezone
timezone = 'UTC'
